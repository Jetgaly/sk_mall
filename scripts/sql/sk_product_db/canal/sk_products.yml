dataSourceKey: defaultDS
destination: example
groupId: g1
esMapping:
  _index: sk_products
  _id: _id
  upsert: true
  sql: |
    SELECT
      sp.id AS _id,
      sp.event_id AS ev_id,
      sp.product_id AS product_id,
      sp.seckill_stock AS stock,
      sp.seckill_price AS product_price,
      e.start_time AS start_time,
      e.end_time AS end_time,
      p.name AS product_name,
      p.description AS product_desc,
      p.cover_image AS coverpath
    FROM seckill_products sp
    LEFT JOIN products p ON sp.product_id = p.id
    LEFT JOIN seckill_events e ON sp.event_id = e.id
  etlCondition: "where sp.id >= 1"
  commitBatch: 3000
